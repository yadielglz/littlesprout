import{c as y,d as D,j as e,m as T,e as g,U as P,L as h,C as m,V as r,D as o}from"./index-b97ebd9a.js";import{r as p}from"./vendor-863865b6.js";import{P as R}from"./plus-a2564613.js";import"./charts-3cd2c548.js";import"./utils-f957b70f.js";const L=y("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),u=y("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),F=()=>{const{currentUser:t,login:f,signup:b,logout:j}=D(),[n,l]=p.useState(!1),[c,d]=p.useState({auth:!1,database:!1,realtime:!1}),x={id:"test-profile-"+Date.now(),userName:"Test Parent",babyName:"Test Baby",dob:"2024-01-01",createdAt:new Date().toISOString()},w=async()=>{l(!0);try{const s=`test-${Date.now()}@littlesprout.test`;await b(s,"testpassword123"),r.success("Authentication test passed!"),d(i=>({...i,auth:!0}))}catch(s){console.error("Auth test error:",s),r.error(`Auth test failed: ${s.message}`),d(a=>({...a,auth:!1}))}finally{l(!1)}},N=async()=>{if(!t){r.error("Please login first to test database");return}l(!0);try{await o.createProfile(t.uid,x),r.success("Profile created successfully!");const s=await o.getProfiles(t.uid);console.log("Retrieved profiles:",s),await o.updateProfile(t.uid,x.id,{babyName:"Updated Test Baby"}),await o.deleteProfile(t.uid,x.id),r.success("Database test passed!"),d(a=>({...a,database:!0}))}catch(s){console.error("Database test error:",s),r.error(`Database test failed: ${s.message}`),d(a=>({...a,database:!1}))}finally{l(!1)}},k=async()=>{if(!t){r.error("Please login first to test real-time features");return}l(!0);try{const s={id:"realtime-test-"+Date.now(),userName:"Realtime Test",babyName:"Realtime Baby",dob:"2024-01-01",createdAt:new Date().toISOString()};await o.createProfile(t.uid,s);const a=o.subscribeToProfile(t.uid,s.id,i=>{i&&(console.log("Real-time update received:",i),r.success("Real-time test passed!"),d(C=>({...C,realtime:!0})),a())});setTimeout(async()=>{try{await o.deleteProfile(t.uid,s.id)}catch(i){console.error("Cleanup error:",i)}},5e3)}catch(s){console.error("Real-time test error:",s),r.error(`Real-time test failed: ${s.message}`),d(a=>({...a,realtime:!1}))}finally{l(!1)}},v=async()=>{l(!0);try{await f("test@littlesprout.test","testpassword123"),r.success("Quick login successful!")}catch{try{await b("test@littlesprout.test","testpassword123"),r.success("Account created and logged in!")}catch(a){r.error(`Login failed: ${a.message}`)}}finally{l(!1)}};return e.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-2xl mx-auto p-6 bg-white dark:bg-gray-800 rounded-lg shadow-lg",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx(g,{className:"w-12 h-12 mx-auto mb-4 text-green-500"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Firebase Configuration Test"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Test your Firebase setup and verify all services are working"})]}),e.jsx("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:e.jsx("div",{className:"flex items-center space-x-3",children:t?e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"w-5 h-5 text-green-500"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:["Logged in as: ",t.email]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["UID: ",t.uid]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(h,{className:"w-5 h-5 text-red-500"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Not logged in"})]})})}),e.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:`p-4 rounded-lg border ${c.auth?"bg-green-50 border-green-200 dark:bg-green-900/20 dark:border-green-700":"bg-gray-50 border-gray-200 dark:bg-gray-700 dark:border-gray-600"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[c.auth?e.jsx(m,{className:"w-5 h-5 text-green-500"}):e.jsx(u,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"font-medium",children:"Authentication"})]})}),e.jsx("div",{className:`p-4 rounded-lg border ${c.database?"bg-green-50 border-green-200 dark:bg-green-900/20 dark:border-green-700":"bg-gray-50 border-gray-200 dark:bg-gray-700 dark:border-gray-600"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[c.database?e.jsx(m,{className:"w-5 h-5 text-green-500"}):e.jsx(u,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"font-medium",children:"Database"})]})}),e.jsx("div",{className:`p-4 rounded-lg border ${c.realtime?"bg-green-50 border-green-200 dark:bg-green-900/20 dark:border-green-700":"bg-gray-50 border-gray-200 dark:bg-gray-700 dark:border-gray-600"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[c.realtime?e.jsx(m,{className:"w-5 h-5 text-green-500"}):e.jsx(u,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"font-medium",children:"Real-time"})]})})]}),e.jsx("div",{className:"space-y-4",children:t?e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("button",{onClick:N,disabled:n,className:"flex-1 flex items-center justify-center space-x-2 bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsx(g,{className:"w-4 h-4"}),e.jsx("span",{children:"Test Database"})]}),e.jsxs("button",{onClick:k,disabled:n,className:"flex-1 flex items-center justify-center space-x-2 bg-purple-500 text-white px-4 py-2 rounded-lg hover:bg-purple-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsx(g,{className:"w-4 h-4"}),e.jsx("span",{children:"Test Real-time"})]}),e.jsxs("button",{onClick:j,disabled:n,className:"flex-1 flex items-center justify-center space-x-2 bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsx(h,{className:"w-4 h-4"}),e.jsx("span",{children:"Logout"})]})]}):e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("button",{onClick:v,disabled:n,className:"flex-1 flex items-center justify-center space-x-2 bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsx(L,{className:"w-4 h-4"}),e.jsx("span",{children:"Quick Login"})]}),e.jsxs("button",{onClick:w,disabled:n,className:"flex-1 flex items-center justify-center space-x-2 bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsx(R,{className:"w-4 h-4"}),e.jsx("span",{children:"Test Auth"})]})]})}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("h3",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Test Instructions:"}),e.jsxs("ol",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[e.jsx("li",{children:'1. Click "Quick Login" to sign in with a test account'}),e.jsx("li",{children:'2. Click "Test Database" to verify CRUD operations'}),e.jsx("li",{children:'3. Click "Test Real-time" to verify live updates'}),e.jsx("li",{children:"4. Check the browser console for detailed logs"})]})]})]})};export{F as default};
