import{j as n}from"./index-b97ebd9a.js";import{r as m}from"./vendor-863865b6.js";import{M as j}from"./Modal-09ee3ecf.js";function w(o=new Date){const s=l=>String(l).padStart(2,"0"),u=o.getFullYear(),a=s(o.getMonth()+1),t=s(o.getDate()),r=s(o.getHours()),e=s(o.getMinutes());return`${u}-${a}-${t}T${r}:${e}`}const N=({label:o,onSave:s,onClose:u,isOpen:a})=>{const[t,r]=m.useState(!1),[e,l]=m.useState(null),[d,c]=m.useState(0);m.useEffect(()=>{a&&!t&&!e&&f()},[a]),m.useEffect(()=>{let i;return t&&e!==null&&(i=setInterval(()=>{c(Date.now()-e)},1e3)),()=>{i&&clearInterval(i)}},[t,e]);const f=()=>{r(!0),l(Date.now()),c(0)},x=()=>{r(!1),e&&c(Date.now()-e)},p=()=>{s(d,w()),r(!1),l(null),c(0)},y=()=>{r(!1),l(null),c(0),u()},b=i=>{const g=Math.floor(i/1e3),h=Math.floor(g/3600),v=Math.floor(g%3600/60),S=g%60;return`${h>0?h+"h ":""}${v}m ${S}s`};return n.jsx(j,{isOpen:a,onClose:u,title:o,children:n.jsxs("div",{className:"flex flex-col items-center space-y-6 py-4",children:[n.jsx("div",{className:"text-4xl font-mono text-green-600 dark:text-green-400",children:b(d)}),n.jsxs("div",{className:"flex space-x-3",children:[!t&&n.jsx("button",{onClick:f,className:"px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-medium",children:"Start"}),t&&n.jsx("button",{onClick:x,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors font-medium",children:"Stop"}),!t&&d>0&&n.jsx("button",{onClick:p,className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors font-medium",children:"Save"}),n.jsx("button",{onClick:y,className:"px-6 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors font-medium",children:"Cancel"})]})]})})};export{N as T,w as f};
